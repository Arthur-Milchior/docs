

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="X-UA-Compatible" content="IE=edge">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:title" content="Jina Documentation">
<meta property="og:description"
      content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning">
<meta property="og:url" content="https://opensource.jina.ai">
<meta property="og:image" content="../../_static/banner.png">
<meta property="og:type" content="website">
<link rel="icon" href="../../_static/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>jina.executors.rankers &mdash; Jina 1.2.3-master documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/main.css" type="text/css" />


  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="jina.executors.segmenters" href="../jina.executors.segmenters/" />
    <link rel="prev" title="jina.executors.indexers.vector" href="../jina.executors.indexers.vector/" /> 
</head>

<body class="wy-body-for-nav">
  <div id="showhide-navbar-btn" onclick="showhide_navbar();"></div>

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://docs.jina.ai">
          

          
            
            <img src="../../_static/jina-prod-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            

          <div class="dropdown version">
            <button class="dropbtn version">1.2.3-master</button>
            <div class="dropdown-content">
              
              <a class="dropdown-item" href="/master">master</a>
              
              <a class="dropdown-item" href="/v1.2.2">1.2.2</a>
              
              <a class="dropdown-item" href="/v1.2.1">1.2.1</a>
              
              <a class="dropdown-item" href="/v1.1.9">1.1.9</a>
              
              <a class="dropdown-item" href="/v1.1.8">1.1.8</a>
              
              <a class="dropdown-item" href="/v1.1.7">1.1.7</a>
              
              <a class="dropdown-item" href="/v1.1.6">1.1.6</a>
              
              <a class="dropdown-item" href="/v1.1.5">1.1.5</a>
              
              <a class="dropdown-item" href="/v1.1.4">1.1.4</a>
              
              <a class="dropdown-item" href="/v1.1.3">1.1.3</a>
              
              <a class="dropdown-item" href="/v1.1.2">1.1.2</a>
              
              <a class="dropdown-item" href="/v1.1.1">1.1.1</a>
              
              <a class="dropdown-item" href="/v1.1.0">1.1.0</a>
              
              <a class="dropdown-item" href="/v1.0.9">1.0.9</a>
              
              <a class="dropdown-item" href="/v1.0.7">1.0.7</a>
              
              <a class="dropdown-item" href="/v1.0.6">1.0.6</a>
              
              <a class="dropdown-item" href="/v1.0.5">1.0.5</a>
              
              <a class="dropdown-item" href="/v1.0.4">1.0.4</a>
              
              <a class="dropdown-item" href="/v1.0.3">1.0.3</a>
              
              <a class="dropdown-item" href="/v1.0.2">1.0.2</a>
              
              <a class="dropdown-item" href="/v1.0.1">1.0.1</a>
              
              <a class="dropdown-item" href="/v1.0.0">1.0.0</a>
              
              <a class="dropdown-item" href="/v0.9.8">0.9.8</a>
              
              <a class="dropdown-item" href="/v0.9.7">0.9.7</a>
              
              <a class="dropdown-item" href="/v0.9.6">0.9.6</a>
              
              <a class="dropdown-item" href="/v0.9.5">0.9.5</a>
              
              <a class="dropdown-item" href="/v0.9.4">0.9.4</a>
              
              <a class="dropdown-item" href="/v0.9.34">0.9.34</a>
              
              <a class="dropdown-item" href="/v0.9.33">0.9.33</a>
              
              <a class="dropdown-item" href="/v0.9.3">0.9.3</a>
              
              <a class="dropdown-item" href="/v0.9.28">0.9.28</a>
              
              <a class="dropdown-item" href="/v0.9.23">0.9.23</a>
              
              <a class="dropdown-item" href="/v0.9.22">0.9.22</a>
              
              <a class="dropdown-item" href="/v0.9.21">0.9.21</a>
              
              <a class="dropdown-item" href="/v0.9.20">0.9.20</a>
              
              <a class="dropdown-item" href="/v0.9.19">0.9.19</a>
              
              <a class="dropdown-item" href="/v0.9.18">0.9.18</a>
              
              <a class="dropdown-item" href="/v0.9.17">0.9.17</a>
              
              <a class="dropdown-item" href="/v0.9.16">0.9.16</a>
              
              <a class="dropdown-item" href="/v0.9.15">0.9.15</a>
              
              <a class="dropdown-item" href="/v0.9.14">0.9.14</a>
              
              <a class="dropdown-item" href="/v0.9.13">0.9.13</a>
              
              <a class="dropdown-item" href="/v0.9.12">0.9.12</a>
              
              <a class="dropdown-item" href="/v0.9.11">0.9.11</a>
              
              <a class="dropdown-item" href="/v0.9.10">0.9.10</a>
              
              <a class="dropdown-item" href="/v0.9.9">0.9.9</a>
              
              <a class="dropdown-item" href="/v0.9.8">0.9.8</a>
              
              <a class="dropdown-item" href="/v0.9.7">0.9.7</a>
              
              <a class="dropdown-item" href="/v0.9.6">0.9.6</a>
              
              <a class="dropdown-item" href="/v0.9.5">0.9.5</a>
              
              <a class="dropdown-item" href="/v0.9.3">0.9.3</a>
              
              <a class="dropdown-item" href="/v0.9.2">0.9.2</a>
              
              <a class="dropdown-item" href="/v0.9.1">0.9.1</a>
              
              <a class="dropdown-item" href="/v0.9.0">0.9.0</a>
              
              <a class="dropdown-item" href="/v0.8.22">0.8.22</a>
              
              <a class="dropdown-item" href="/v0.8.21">0.8.21</a>
              
            </div>
          </div>
            
          


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Jina Core</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../chapters/core/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/core/setup/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/core/guides/">Developer Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../chapters/core/api_references/">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../chapters/rest/">RESTful CRUD Operations with Jina</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chapters/yaml/">Jina YAML Syntax Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chapters/api_schema/">Jina API Schema for 3rd-Party Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chapters/cli/">Jina Command-Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chapters/proto/">Jina Protobuf Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chapters/daemon/">Jina Daemon API Specification</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../jina/">Jina Python API Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../jina.clients/">jina.clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.docker/">jina.docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.drivers/">jina.drivers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../jina.executors/">jina.executors</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.classifiers/">jina.executors.classifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.crafters/">jina.executors.crafters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.encoders/">jina.executors.encoders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.evaluators/">jina.executors.evaluators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.indexers/">jina.executors.indexers</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">jina.executors.rankers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.segmenters/">jina.executors.segmenters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.compound/">jina.executors.compound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.decorators/">jina.executors.decorators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.devices/">jina.executors.devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.metas/">jina.executors.metas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jina.executors.requests/">jina.executors.requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../jina.flow/">jina.flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.helloworld/">jina.helloworld</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.jaml/">jina.jaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.logging/">jina.logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.optimizers/">jina.optimizers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.parsers/">jina.parsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.peapods/">jina.peapods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.proto/">jina.proto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.schemas/">jina.schemas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.types/">jina.types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.checker/">jina.checker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.enums/">jina.enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.excepts/">jina.excepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.helper/">jina.helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../jina.importer/">jina.importer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Jina Dashboard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/dashboard/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/dashboard/guides/">Developer Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Jina Hub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/hub/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/hub/guides/">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/hub/api_references/">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Jina Box</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/box/introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/box/guides/">Developer Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/glossary/">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/CONTRIBUTING/">Contributing to Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/CONTRIBUTING/#join-us-on-slack">Join Us on Slack!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/RELEASE/">Release &amp; Version Identifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/CHANGELOG/">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/jep/">Jina Enhancement Proposals (JEP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/faq/dev/">FAQ for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/faq/user/">FAQ for End-Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/docstring/">Docstring Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/all_exec/">List of 68 Executors in Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chapters/all_driver/">List of 78 Drivers in Jina</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Jina</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation" class="nav-bar-header">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../chapters/core/api_references/">API Reference</a> &raquo;</li>
        
          <li><a href="../jina/">Jina Python API Reference</a> &raquo;</li>
        
          <li><a href="../jina.executors/">jina.executors</a> &raquo;</li>
        
      <li>jina.executors.rankers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  
<div role="search" class="nav-bar-search">
  <form id="rtd-search-form" class="wy-form doc-searchbox" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs (Press / to focus)" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

</div>
<hr/>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-jina.executors.rankers">
<span id="jina-executors-rankers"></span><h1>jina.executors.rankers<a class="headerlink" href="#module-jina.executors.rankers" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="jina.executors.rankers.BaseRanker">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">jina.executors.rankers.</span></code><code class="sig-name descname"><span class="pre">BaseRanker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#BaseRanker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.BaseRanker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../jina.executors/#jina.executors.BaseExecutor" title="jina.executors.BaseExecutor"><code class="xref py py-class docutils literal notranslate"><span class="pre">jina.executors.BaseExecutor</span></code></a></p>
<p>The base class for a <cite>Ranker</cite>
:type query_required_keys: <code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]
:param query_required_keys: Set of keys or features to be extracted from query <cite>Document</cite> by the <cite>Driver</cite> so that</p>
<blockquote>
<div><p>they are passed as query features or metainfo.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from match <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as match features or metainfo.</p></li>
<li><p><strong>args</strong> – Extra positional arguments</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See how the attributes are accessed in <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attrs()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">})</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}})</span>

<span class="n">ranker</span> <span class="o">=</span> <span class="n">BaseRanker</span><span class="p">(</span><span class="n">query_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color&#39;</span><span class="p">),</span> <span class="n">match_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color, &#39;</span><span class="n">tags__price</span><span class="s1">&#39;)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from query <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as query features or metainfo.</p></li>
<li><p><strong>match_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from match <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as match features or metainfo.</p></li>
<li><p><strong>args</strong> – Extra positional arguments</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See how the attributes are accessed in <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attrs()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">})</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}})</span>

<span class="n">ranker</span> <span class="o">=</span> <span class="n">BaseRanker</span><span class="p">(</span><span class="n">query_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color&#39;</span><span class="p">),</span> <span class="n">match_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color, &#39;</span><span class="n">tags__price</span><span class="s1">&#39;)</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt id="jina.executors.rankers.BaseRanker.score">
<code class="sig-name descname"><span class="pre">score</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#BaseRanker.score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.BaseRanker.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the score. Base class method needs to be implemented in subclass.
:param args: Extra positional arguments
:param kwargs: Extra keyword arguments</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="jina.executors.rankers.Chunk2DocRanker">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">jina.executors.rankers.</span></code><code class="sig-name descname"><span class="pre">Chunk2DocRanker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#Chunk2DocRanker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#jina.executors.rankers.BaseRanker" title="jina.executors.rankers.BaseRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">jina.executors.rankers.BaseRanker</span></code></a></p>
<p>A <a class="reference internal" href="#jina.executors.rankers.Chunk2DocRanker" title="jina.executors.rankers.Chunk2DocRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">Chunk2DocRanker</span></code></a> translates the chunk-wise score (distance) to the doc-wise score.</p>
<p>In the query-time, <a class="reference internal" href="#jina.executors.rankers.Chunk2DocRanker" title="jina.executors.rankers.Chunk2DocRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">Chunk2DocRanker</span></code></a> is an almost-always required component.
Because in the end we want to retrieve top-k documents of given query-document not top-k chunks of
given query-chunks. The purpose of <a class="reference internal" href="#jina.executors.rankers.Chunk2DocRanker" title="jina.executors.rankers.Chunk2DocRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">Chunk2DocRanker</span></code></a> is to aggregate the already existed top-k chunks
into documents.</p>
<p>The key function here is <a class="reference internal" href="#jina.executors.rankers.Chunk2DocRanker.score" title="jina.executors.rankers.Chunk2DocRanker.score"><code class="xref py py-func docutils literal notranslate"><span class="pre">score()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">jina.drivers.handlers.score</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from query <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as query features or metainfo.</p></li>
<li><p><strong>match_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from match <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as match features or metainfo.</p></li>
<li><p><strong>args</strong> – Extra positional arguments</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See how the attributes are accessed in <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attrs()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">})</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}})</span>

<span class="n">ranker</span> <span class="o">=</span> <span class="n">BaseRanker</span><span class="p">(</span><span class="n">query_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color&#39;</span><span class="p">),</span> <span class="n">match_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color, &#39;</span><span class="n">tags__price</span><span class="s1">&#39;)</span>
</pre></div>
</div>
</div>
<dl class="py attribute">
<dt id="jina.executors.rankers.Chunk2DocRanker.COL_PARENT_ID">
<code class="sig-name descname"><span class="pre">COL_PARENT_ID</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'match_parent_id'</span></em><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker.COL_PARENT_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="jina.executors.rankers.Chunk2DocRanker.COL_DOC_CHUNK_ID">
<code class="sig-name descname"><span class="pre">COL_DOC_CHUNK_ID</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'match_doc_chunk_id'</span></em><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker.COL_DOC_CHUNK_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="jina.executors.rankers.Chunk2DocRanker.COL_QUERY_CHUNK_ID">
<code class="sig-name descname"><span class="pre">COL_QUERY_CHUNK_ID</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'match_query_chunk_id'</span></em><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker.COL_QUERY_CHUNK_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="jina.executors.rankers.Chunk2DocRanker.COL_SCORE">
<code class="sig-name descname"><span class="pre">COL_SCORE</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'score'</span></em><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker.COL_SCORE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="jina.executors.rankers.Chunk2DocRanker.score">
<code class="sig-name descname"><span class="pre">score</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_chunk_meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_chunk_meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#Chunk2DocRanker.score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.Chunk2DocRanker.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of queries (that may correspond to the chunks of a root level query) and a set of matches
corresponding to the same parent id, compute the matching score of the common parent of the set of matches.
Returns a score corresponding to the score of the parent document of the matches in <cite>match_idx</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match_idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – A [N x 4] numpy <code class="docutils literal notranslate"><span class="pre">ndarray</span></code>, column-wise:
- <code class="docutils literal notranslate"><span class="pre">match_idx[:,</span> <span class="pre">0]</span></code>: <code class="docutils literal notranslate"><span class="pre">parent_id</span></code> of the matched docs, integer
- <code class="docutils literal notranslate"><span class="pre">match_idx[:,</span> <span class="pre">1]</span></code>: <code class="docutils literal notranslate"><span class="pre">id</span></code> of the matched chunks, integer
- <code class="docutils literal notranslate"><span class="pre">match_idx[:,</span> <span class="pre">2]</span></code>: <code class="docutils literal notranslate"><span class="pre">id</span></code> of the query chunks, integer
- <code class="docutils literal notranslate"><span class="pre">match_idx[:,</span> <span class="pre">3]</span></code>: distance/metric/score between the query and matched chunks, float.
All the matches belong to the same <cite>parent</cite></p></li>
<li><p><strong>query_chunk_meta</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>) – The meta information of the query chunks, where the key is query chunks’ <code class="docutils literal notranslate"><span class="pre">chunk_id</span></code>,
the value is extracted by the <code class="docutils literal notranslate"><span class="pre">query_required_keys</span></code>.</p></li>
<li><p><strong>match_chunk_meta</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>) – The meta information of the matched chunks, where the key is matched chunks’
<code class="docutils literal notranslate"><span class="pre">chunk_id</span></code>, the value is extracted by the <code class="docutils literal notranslate"><span class="pre">match_required_keys</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>TODO:
- <code class="docutils literal notranslate"><span class="pre">match_idx[:,</span> <span class="pre">0]</span></code> is redundant because all the matches have the same <code class="docutils literal notranslate"><span class="pre">parent_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="jina.executors.rankers.Match2DocRanker">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">jina.executors.rankers.</span></code><code class="sig-name descname"><span class="pre">Match2DocRanker</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_required_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#Match2DocRanker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.Match2DocRanker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#jina.executors.rankers.BaseRanker" title="jina.executors.rankers.BaseRanker"><code class="xref py py-class docutils literal notranslate"><span class="pre">jina.executors.rankers.BaseRanker</span></code></a></p>
<p>Re-scores the matches for a document. This Ranker is only responsible for
calculating new scores and not for the actual sorting. The sorting is handled
in the respective <code class="docutils literal notranslate"><span class="pre">Matches2DocRankDriver</span></code>.</p>
<dl class="simple">
<dt>Possible implementations:</dt><dd><ul class="simple">
<li><p>ReverseRanker (reverse scores of all matches)</p></li>
<li><p>BucketShuffleRanker (first buckets matches and then sort each bucket).</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from query <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as query features or metainfo.</p></li>
<li><p><strong>match_required_keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – Set of keys or features to be extracted from match <cite>Document</cite> by the <cite>Driver</cite> so that
they are passed as match features or metainfo.</p></li>
<li><p><strong>args</strong> – Extra positional arguments</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See how the attributes are accessed in <code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attrs()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">})</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">Document</span><span class="p">({</span><span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}})</span>

<span class="n">ranker</span> <span class="o">=</span> <span class="n">BaseRanker</span><span class="p">(</span><span class="n">query_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color&#39;</span><span class="p">),</span> <span class="n">match_required_keys</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tags__color, &#39;</span><span class="n">tags__price</span><span class="s1">&#39;)</span>
</pre></div>
</div>
</div>
<dl class="py attribute">
<dt id="jina.executors.rankers.Match2DocRanker.COL_MATCH_ID">
<code class="sig-name descname"><span class="pre">COL_MATCH_ID</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'match_doc_chunk_id'</span></em><a class="headerlink" href="#jina.executors.rankers.Match2DocRanker.COL_MATCH_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="jina.executors.rankers.Match2DocRanker.COL_SCORE">
<code class="sig-name descname"><span class="pre">COL_SCORE</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'score'</span></em><a class="headerlink" href="#jina.executors.rankers.Match2DocRanker.COL_SCORE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="jina.executors.rankers.Match2DocRanker.score">
<code class="sig-name descname"><span class="pre">score</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_matches_scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries_metas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matches_metas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jina/executors/rankers/#Match2DocRanker.score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jina.executors.rankers.Match2DocRanker.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the new scores for matches and returns them. Returns an iterable of the scores to be assigned to the matches.
The returned scores need to be returned in the same order as the input <cite>:param old_match_scores</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The length of <cite>old_match_scores</cite>, <cite>queries_metas</cite> and <cite>matches_metas</cite> correspond to the amount of queries in the batch for which
one wants to score its matches.</p>
<p>Every Sequence in match metas correspond to the amount of retrieved matches per query.</p>
<p>The resulting list of scores will provide a list of score for every query. And every list will be ordered in the same way as the <cite>matches_metas</cite> lists</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_matches_scores</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – Contains old scores in a list for every query</p></li>
<li><p><strong>queries_metas</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – List of dictionaries containing all the query meta information requested by the <cite>query_required_keys</cite> class_variable for each query in a batch.</p></li>
<li><p><strong>matches_metas</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]]) – List of lists containing all the matches meta information requested by the <cite>match_required_keys</cite> class_variable for every query. Sorted in the same way as <cite>old_match_scores</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
        <a href="../jina.executors.segmenters/" class="btn btn-neutral float-right" title="jina.executors.segmenters"
           accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
        
        
        <a href="../jina.executors.indexers.vector/" class="btn btn-neutral float-left" title="jina.executors.indexers.vector"
           accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
        
    </div>
    

    <hr/>

    <div role="contentinfo">
        <nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">

            <ul class="devsite-footer-linkboxes-list">

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Stay connected</h3>
                    <ul class="devsite-footer-linkbox-list">

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                <i class="fab fa-github"></i> GitHub

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.linkedin.com/company/jinaai/" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                <i class="fab fa-linkedin"></i> LinkedIn

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://twitter.com/JinaAI_" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-twitter"></i> Twitter

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://www.youtube.com/c/JinaAI" class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                <i class="fab fa-youtube"></i> YouTube

                            </a>

                        </li>

                    </ul>
                </li>

                <li class="devsite-footer-linkbox ">
                    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
                    <ul class="devsite-footer-linkbox-list">
                        <li class="devsite-footer-linkbox-item">

                            <a href="https://slack.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">

                                <i class="fab fa-slack"></i> Slack community

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/issues"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">

                                Issue tracker

                            </a>

                        </li>

                        <li class="devsite-footer-linkbox-item">

                            <a href="https://github.com/jina-ai/jina/blob/master/CHANGELOG.md"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">

                                Release notes

                            </a>

                        </li>



                        <li class="devsite-footer-linkbox-item">

                            <a href="https://career.jina.ai"
                               class="devsite-footer-linkbox-link gc-analytics-event"
                               data-category="Site-Wide Custom Events" data-label="Footer Link (index 4)">

                                Career@Jina AI

                            </a>

                        </li>


                    </ul>
                </li>

            </ul>

        </nav>
        <p>
            
            &copy; Copyright Jina AI Limited. All rights reserved.
            <span class="lastupdated">
        Last updated on May 10, 2021.
      </span>

        </p>
    </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });

      function showhide_navbar() {
      var x = document.getElementsByClassName("wy-nav-side")[0];
      var y = document.getElementsByClassName("wy-nav-content-wrap")[0];
      var z = document.getElementById("showhide-navbar-btn");
      if (x.style.display === "none") {
        x.style.display = "block";
        y.style.marginLeft = "300px";
        z.style.left = "300px";
      } else {
        x.style.display = "none";
        y.style.marginLeft = "0";
        z.style.left = "0px";
      }
    }

  </script>

  <!-- Search box becomes active when you press the slash(/) key anywhere on the page-->
  <script>
    const body = document.querySelector('body');
    const searchBox = document.querySelector('form').querySelector('input[type="text"]');

    body.addEventListener('keyup', event => {
      event.preventDefault()
      if (event.key === '/') {
        searchBox.focus();
      }
    });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-164627626-3', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>